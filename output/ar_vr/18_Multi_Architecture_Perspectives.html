<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>18 Multi Architecture Perspectives - AR/VR Documentation</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
        }

        #overlay {
            position: fixed;
            top: 20px;
            left: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 30px;
            border-radius: 15px;
            max-height: 80vh;
            overflow-y: auto;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        #overlay h1 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2.5em;
        }

        #overlay h2 {
            color: #764ba2;
            margin-top: 30px;
            font-size: 1.8em;
        }

        #overlay code {
            background: rgba(102, 126, 234, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            color: #a5b4fc;
        }

        #overlay pre {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            border-left: 4px solid #667eea;
        }

        #overlay pre code {
            background: transparent;
        }

        #overlay table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        #overlay th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 12px;
            text-align: left;
        }

        #overlay td {
            padding: 10px 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        #controls {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 1001;
        }

        .control-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: all 0.3s;
        }

        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .info-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px;
            border-radius: 10px;
            z-index: 1000;
            backdrop-filter: blur(10px);
            max-width: 300px;
        }

        .info-panel h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .info-panel p {
            margin: 5px 0;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div id="overlay" style="display: none;">
        <div id="content"></div>
    </div>

    <div class="info-panel">
        <h3>ğŸ¥½ VR Documentation</h3>
        <p><strong>18 Multi Architecture Perspectives</strong></p>
        <p>Use WASD to move</p>
        <p>Mouse to look around</p>
        <p>Click 'Toggle Doc' to read</p>
    </div>

    <div id="controls">
        <button class="control-btn" onclick="toggleOverlay()">ğŸ“„ Toggle Doc</button>
        <button class="control-btn" onclick="enterVR()">ğŸ¥½ Enter VR</button>
        <button class="control-btn" onclick="resetView()">ğŸ”„ Reset View</button>
    </div>

    <a-scene background="color: #000">
        <!-- Sky with gradient -->
        <a-sky color="#1a1a2e"></a-sky>

        <!-- Ambient lighting -->
        <a-light type="ambient" color="#667eea" intensity="0.5"></a-light>
        <a-light type="directional" color="#FFF" intensity="0.8" position="2 4 -3"></a-light>
        <a-light type="point" color="#764ba2" intensity="1" position="0 3 0"></a-light>

        <!-- Floor grid -->
        <a-plane position="0 0 0" rotation="-90 0 0" width="20" height="20"
                 color="#0f0f23" roughness="0.8" metalness="0.2"
                 shader="flat" repeat="10 10"></a-plane>

        <!-- Documentation panels floating in 3D space -->
        <a-entity id="doc-environment" position="0 1.6 -3">
            <!-- Main title panel -->
            <a-plane position="0 2 0" rotation="0 0 0" width="8" height="1.5"
                     color="#667eea" opacity="0.9">
                <a-text value="18 Multi Architecture Perspectives" align="center" color="#FFF"
                        position="0 0 0.01" width="8" font="roboto"></a-text>
            </a-plane>

            <!-- Floating data panels in circular arrangement -->
            <a-entity id="panel-1" position="-3 0 0">
                <a-box color="#667eea" opacity="0.7" width="1.5" height="2" depth="0.1"
                       roughness="0.3" metalness="0.6"
                       animation="property: rotation; to: 0 360 0; loop: true; dur: 20000">
                    <a-text value="PDF\nFormat" align="center" color="#FFF"
                            position="0 0.5 0.06" width="2"></a-text>
                    <a-text value="Complete\nDocumentation" align="center" color="#CCC"
                            position="0 -0.3 0.06" width="1.5"></a-text>
                </a-box>
            </a-entity>

            <a-entity id="panel-2" position="3 0 0">
                <a-box color="#764ba2" opacity="0.7" width="1.5" height="2" depth="0.1"
                       roughness="0.3" metalness="0.6"
                       animation="property: rotation; to: 0 360 0; loop: true; dur: 20000; dir: reverse">
                    <a-text value="Interactive\n3D View" align="center" color="#FFF"
                            position="0 0.5 0.06" width="2"></a-text>
                    <a-text value="Immersive\nExperience" align="center" color="#CCC"
                            position="0 -0.3 0.06" width="1.5"></a-text>
                </a-box>
            </a-entity>

            <a-entity id="panel-3" position="0 0 -2">
                <a-cylinder color="#f093fb" opacity="0.7" radius="0.75" height="2"
                           roughness="0.3" metalness="0.6"
                           animation="property: position; to: 0 0.5 -2; loop: true; dur: 3000; dir: alternate; easing: easeInOutSine">
                    <a-text value="VisionBot\nProject" align="center" color="#FFF"
                            position="0 0.5 0.76" width="2"></a-text>
                </a-cylinder>
            </a-entity>

            <!-- Floating stats spheres -->
            <a-sphere position="-1.5 1.5 -1" radius="0.3" color="#10b981" opacity="0.8"
                     animation="property: position; to: -1.5 2 -1; loop: true; dur: 2000; dir: alternate">
                <a-text value="99.2%\nSuccess" align="center" color="#FFF"
                        position="0 0 0.31" width="1.2"></a-text>
            </a-sphere>

            <a-sphere position="1.5 1.5 -1" radius="0.3" color="#f59e0b" opacity="0.8"
                     animation="property: position; to: 1.5 2 -1; loop: true; dur: 2500; dir: alternate">
                <a-text value="93.5%\nOEE" align="center" color="#FFF"
                        position="0 0 0.31" width="1.2"></a-text>
            </a-sphere>
        </a-entity>

        <!-- Camera with controls -->
        <a-entity id="camera-rig" position="0 0 0">
            <a-camera id="main-camera" wasd-controls look-controls>
                <a-cursor color="#667eea" fuse="true" fuse-timeout="1500"></a-cursor>
            </a-camera>
        </a-entity>

        <!-- Particle effect -->
        <a-entity position="0 2.5 -5">
            <a-entity geometry="primitive: sphere; radius: 0.05"
                     material="color: #667eea; emissive: #667eea; emissiveIntensity: 0.5"
                     animation="property: position; to: 0 4 -5; loop: true; dur: 4000; easing: linear"></a-entity>
        </a-entity>
    </a-scene>

    <script>
        // Convert markdown to HTML
        const markdown = `# Multi-Architecture Perspectives
## Enterprise, Data, Integration & Business Architecture

**Document Version:** 1.0
**Last Updated:** 2025-10-18
**Status:** âœ… Complete

---

## Table of Contents

1. [Introduction](#1-introduction)
2. [Enterprise Architecture](#2-enterprise-architecture)
3. [Data Architecture](#3-data-architecture)
4. [Integration Architecture](#4-integration-architecture)
5. [Business Architecture](#5-business-architecture)
6. [Cross-Architecture Alignment](#6-cross-architecture-alignment)
7. [Governance & Standards](#7-governance--standards)

---

## 1. Introduction

### 1.1 Purpose

This document provides comprehensive architectural views from four critical perspectives:
- **Enterprise Architecture:** Strategic technology landscape, standards, principles
- **Data Architecture:** Data models, flows, governance, quality
- **Integration Architecture:** System interfaces, APIs, message patterns
- **Business Architecture:** Value streams, capabilities, processes

### 1.2 Architecture Framework

We use **TOGAF 9.2** (The Open Group Architecture Framework) as our foundation, adapted for robotics and manufacturing domains.

\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TOGAF Architecture Domains               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚   Business       â”‚  â”‚   Data           â”‚               â”‚
â”‚  â”‚   Architecture   â”‚  â”‚   Architecture   â”‚               â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚               â”‚
â”‚  â”‚ â€¢ Value streams  â”‚  â”‚ â€¢ Data models    â”‚               â”‚
â”‚  â”‚ â€¢ Capabilities   â”‚  â”‚ â€¢ Data flows     â”‚               â”‚
â”‚  â”‚ â€¢ Processes      â”‚  â”‚ â€¢ Governance     â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚           â”‚                      â”‚                          â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                      â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚   Application Architecture          â”‚                   â”‚
â”‚  â”‚                                     â”‚                   â”‚
â”‚  â”‚ â€¢ Application portfolio             â”‚                   â”‚
â”‚  â”‚ â€¢ Integration patterns              â”‚                   â”‚
â”‚  â”‚ â€¢ APIs & interfaces                 â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                     â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚   Technology Architecture           â”‚                   â”‚
â”‚  â”‚                                     â”‚                   â”‚
â”‚  â”‚ â€¢ Infrastructure                    â”‚                   â”‚
â”‚  â”‚ â€¢ Platforms & tools                 â”‚                   â”‚
â”‚  â”‚ â€¢ Standards                         â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

### 1.3 Stakeholders

| **Role** | **Concerns** | **Primary Artifacts** |
|----------|--------------|----------------------|
| **Enterprise Architect** | Strategic alignment, standards, portfolio | EA roadmap, principles, standards catalog |
| **Data Architect** | Data quality, governance, integration | Data models, lineage, quality rules |
| **Integration Architect** | Connectivity, APIs, message flows | Integration patterns, API specs, ESB design |
| **Business Architect** | Value delivery, capabilities, processes | Value stream maps, capability models |

---

## 2. Enterprise Architecture

### 2.1 Enterprise Architecture Vision

**Mission:** Establish a scalable, secure, and maintainable robotics automation platform that enables digital transformation in manufacturing operations.

**Strategic Objectives:**
1. **Standardization:** Common platforms, tools, and patterns across all robotic systems
2. **Scalability:** Support 1-100 robot deployments with minimal incremental effort
3. **Interoperability:** Seamless integration with existing enterprise systems (MES, ERP, SCADA)
4. **Innovation:** Enable rapid adoption of new AI/ML models and technologies
5. **Security:** Enterprise-grade security, compliance, and audit capabilities

### 2.2 Current State Architecture (As-Is)

\`\`\`
CURRENT STATE: Manual Pick-and-Place Operations
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Factory Floor                            â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   Human      â”‚  picks  â”‚   Human      â”‚                 â”‚
â”‚  â”‚   Worker 1   â”‚ â”€â”€â”€â”€â”€â–¶  â”‚   Worker 2   â”‚                 â”‚
â”‚  â”‚              â”‚ objects â”‚              â”‚                 â”‚
â”‚  â”‚  14 picks/   â”‚         â”‚  Inspection  â”‚                 â”‚
â”‚  â”‚  min         â”‚         â”‚              â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚         â”‚                         â”‚                         â”‚
â”‚         â”‚ Manual                  â”‚ Manual                  â”‚
â”‚         â”‚ logging                 â”‚ QA check                â”‚
â”‚         â–¼                         â–¼                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   Paper      â”‚         â”‚   Spreadsheetâ”‚                 â”‚
â”‚  â”‚   Logs       â”‚         â”‚   QA Records â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ End-of-day
                  â”‚ data entry
                  â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚     MES      â”‚
          â”‚   (Manual    â”‚
          â”‚    entry)    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

LIMITATIONS:
âŒ Low throughput (14 picks/min per worker)
âŒ High error rate (5%)
âŒ No real-time visibility
âŒ Manual data entry (delays, errors)
âŒ High labor costs ($195k/year for 4 FTE)
âŒ Limited scalability
\`\`\`

### 2.3 Target State Architecture (To-Be)

\`\`\`
TARGET STATE: Automated Robotic Pick-and-Place
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              EDGE TIER (Factory Floor)                      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Vision-Based Pick & Place Robot System            â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  â€¢ 30 picks/min (automated)                         â”‚   â”‚
â”‚  â”‚  â€¢ 99%+ accuracy                                    â”‚   â”‚
â”‚  â”‚  â€¢ Real-time monitoring                             â”‚   â”‚
â”‚  â”‚  â€¢ Automatic logging                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                  â”‚                                          â”‚
â”‚                  â”‚ Real-time data (MQTT/ROS2)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ Secure tunnel (TLS)
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              INTEGRATION TIER (On-Premises)                 â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   API        â”‚  â”‚   Message    â”‚  â”‚   Data       â”‚     â”‚
â”‚  â”‚   Gateway    â”‚  â”‚   Bus        â”‚  â”‚   Lake       â”‚     â”‚
â”‚  â”‚   (Kong)     â”‚  â”‚   (Kafka)    â”‚  â”‚   (MinIO)    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚                 â”‚                  â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                  â”‚
          â”‚                 â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           APPLICATION TIER (Enterprise)                     â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚     MES      â”‚  â”‚     ERP      â”‚  â”‚   BI/        â”‚     â”‚
â”‚  â”‚  (Real-time  â”‚  â”‚  (Inventory, â”‚  â”‚   Analytics  â”‚     â”‚
â”‚  â”‚   updates)   â”‚  â”‚   finance)   â”‚  â”‚  (PowerBI)   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

BENEFITS:
âœ“ 3Ã— throughput (42,000 picks/day)
âœ“ <1% error rate (99%+ accuracy)
âœ“ Real-time visibility (dashboards, alerts)
âœ“ Automated data integration (zero manual entry)
âœ“ Labor savings ($175k/year)
âœ“ Scalable to 100+ robots
\`\`\`

### 2.4 Technology Standards & Principles

#### 2.4.1 Architecture Principles

| **Principle** | **Statement** | **Rationale** | **Implications** |
|---------------|---------------|---------------|------------------|
| **P1: Cloud-Native** | Use containerized, microservices architecture | Scalability, portability, rapid deployment | All services run in Docker/K8s |
| **P2: API-First** | All integrations via well-defined APIs | Loose coupling, reusability | REST/gRPC APIs for all services |
| **P3: Data-Driven** | Collect, store, and analyze all operational data | Continuous improvement, predictive maintenance | Centralized data lake, ML pipelines |
| **P4: Security by Design** | Security integrated from the start | Compliance, risk mitigation | Zero-trust, encryption, audit logs |
| **P5: Open Standards** | Prefer open-source and industry standards | Vendor independence, community support | ROS2, MQTT, OPC-UA, REST |
| **P6: Modularity** | Components are independently deployable | Flexibility, maintainability | Microservices, pluggable modules |
| **P7: Automation** | Automate deployment, testing, monitoring | Speed, consistency, reliability | CI/CD, IaC, automated testing |

#### 2.4.2 Technology Standards Catalog

| **Category** | **Standard** | **Rationale** | **Alternatives Considered** |
|--------------|--------------|---------------|-----------------------------|
| **Robotics Middleware** | ROS2 Humble | Industry standard, real-time support, large ecosystem | ROS1 (legacy), proprietary SDKs |
| **Containerization** | Docker 24.x | Portability, reproducibility, ecosystem | Podman, LXC |
| **Orchestration** | Kubernetes 1.28 | Scalability, high availability, declarative | Docker Swarm, Nomad |
| **API Gateway** | Kong 3.x | Performance, plugins, open-source | Nginx, Traefik, AWS API Gateway |
| **Message Broker** | Apache Kafka 3.5 | High throughput, fault tolerance, replay capability | RabbitMQ, MQTT Broker, Redis Streams |
| **Time-Series DB** | InfluxDB 2.7 | Optimized for metrics, retention policies | Prometheus, TimescaleDB |
| **Relational DB** | PostgreSQL 15 | ACID, mature, JSON support | MySQL, SQL Server |
| **Object Storage** | MinIO (S3-compatible) | Scalable, S3 API, on-premises | AWS S3, Azure Blob, Ceph |
| **Monitoring** | Prometheus + Grafana | De facto standard, rich ecosystem | Datadog, New Relic, Elastic APM |
| **Logging** | ELK Stack (Elasticsearch, Logstash, Kibana) | Centralized, searchable, scalable | Splunk, Graylog, Loki |
| **CI/CD** | GitHub Actions | Native GitHub integration, free for open-source | Jenkins, GitLab CI, CircleCI |
| **IaC** | Terraform + Ansible | Multi-cloud, declarative, mature | CloudFormation, Pulumi |

### 2.5 Application Portfolio

\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              APPLICATION PORTFOLIO MAP                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                      STRATEGIC IMPORTANCE
                           (High)
                             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ INVEST                 â”‚ MAINTAIN               â”‚
    â”‚                        â”‚                        â”‚
    â”‚ â€¢ Vision AI Platform   â”‚ â€¢ ROS2 Control System  â”‚
    â”‚ â€¢ MLOps Pipeline       â”‚ â€¢ MES Integration      â”‚
    â”‚ â€¢ Digital Twin         â”‚ â€¢ ERP Connector        â”‚
    â”‚                        â”‚                        â”‚
â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€
    â”‚                        â”‚                        â”‚
    â”‚ ELIMINATE              â”‚ TOLERATE               â”‚
    â”‚                        â”‚                        â”‚
    â”‚ â€¢ Paper Logs (legacy)  â”‚ â€¢ Manual Calibration   â”‚
    â”‚ â€¢ Spreadsheet QA       â”‚   (migrate to auto)    â”‚
    â”‚                        â”‚                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                          (Low)
                    BUSINESS VALUE
                    â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’
\`\`\`

### 2.6 EA Roadmap (3-Year)

\`\`\`
YEAR 1 (2025): Foundation
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Q1-Q2: Single robot system deployment (MVP)
Q3:    MES/ERP integration
Q4:    Monitoring & analytics platform

YEAR 2 (2026): Scale
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Q1:    5-robot deployment (multi-cell)
Q2:    Digital twin & simulation
Q3:    Predictive maintenance (ML)
Q4:    Edge computing optimization

YEAR 3 (2027): Transform
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Q1:    20+ robot fleet management
Q2:    Cross-facility orchestration
Q3:    Advanced AI (reinforcement learning)
Q4:    Zero-downtime autonomous operation
\`\`\`

---

## 3. Data Architecture

### 3.1 Data Architecture Overview

**Mission:** Establish a unified, governed, and high-quality data foundation to support real-time operations, analytics, and AI/ML.

### 3.2 Conceptual Data Model

\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CORE ENTITIES & RELATIONSHIPS                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    Robot     â”‚
        â”‚              â”‚
        â”‚ â€¢ robot_id   â”‚
        â”‚ â€¢ model      â”‚
        â”‚ â€¢ location   â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ 1
               â”‚ operates
               â”‚ n
        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Pick Task  â”‚
        â”‚              â”‚
        â”‚ â€¢ task_id    â”‚
        â”‚ â€¢ timestamp  â”‚
        â”‚ â€¢ status     â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ 1
               â”‚ picks
               â”‚ n
        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    Object    â”‚
        â”‚              â”‚
        â”‚ â€¢ object_id  â”‚
        â”‚ â€¢ class_name â”‚
        â”‚ â€¢ pose       â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ n
               â”‚ uses
               â”‚ 1
        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    Grasp     â”‚
        â”‚              â”‚
        â”‚ â€¢ grasp_id   â”‚
        â”‚ â€¢ pose       â”‚
        â”‚ â€¢ quality    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

### 3.3 Logical Data Model (Relational)

#### 3.3.1 Operational Database (PostgreSQL)

\`\`\`sql
-- ROBOTS
CREATE TABLE robots (
    robot_id VARCHAR(50) PRIMARY KEY,
    model VARCHAR(100) NOT NULL,
    serial_number VARCHAR(100) UNIQUE NOT NULL,
    location VARCHAR(100),
    status VARCHAR(20) DEFAULT 'offline',  -- offline, idle, running, error
    last_heartbeat TIMESTAMP,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- PICKS (Transactional data)
CREATE TABLE picks (
    pick_id SERIAL PRIMARY KEY,
    robot_id VARCHAR(50) REFERENCES robots(robot_id),
    timestamp TIMESTAMP NOT NULL DEFAULT NOW(),

    -- Object details
    object_class VARCHAR(50),
    object_pose JSONB,  -- {x, y, z, qx, qy, qz, qw}

    -- Grasp details
    grasp_pose JSONB,
    grasp_quality FLOAT CHECK (grasp_quality BETWEEN 0 AND 1),
    grasp_force FLOAT,  -- Newtons

    -- Place details
    place_pose JSONB,
    place_accuracy FLOAT,  -- mm

    -- Performance metrics
    cycle_time FLOAT,  -- seconds
    vision_latency FLOAT,  -- ms
    planning_time FLOAT,  -- ms
    execution_time FLOAT,  -- ms

    -- Status
    success BOOLEAN,
    error_code VARCHAR(50),
    error_message TEXT,

    CONSTRAINT valid_timestamp CHECK (timestamp >= '2025-01-01')
);

CREATE INDEX idx_picks_timestamp ON picks(timestamp DESC);
CREATE INDEX idx_picks_robot ON picks(robot_id);
CREATE INDEX idx_picks_success ON picks(success);
CREATE INDEX idx_picks_object_class ON picks(object_class);

-- CALIBRATIONS
CREATE TABLE calibrations (
    calibration_id SERIAL PRIMARY KEY,
    robot_id VARCHAR(50) REFERENCES robots(robot_id),
    timestamp TIMESTAMP NOT NULL DEFAULT NOW(),
    calibration_type VARCHAR(50) NOT NULL,  -- 'hand_eye', 'tcp', 'workspace'
    parameters JSONB NOT NULL,  -- Calibration-specific parameters
    reprojection_error FLOAT,  -- mm (for hand-eye)
    notes TEXT
);

-- SYSTEM_HEALTH
CREATE TABLE system_health (
    health_id SERIAL PRIMARY KEY,
    robot_id VARCHAR(50) REFERENCES robots(robot_id),
    timestamp TIMESTAMP NOT NULL DEFAULT NOW(),

    -- Compute metrics
    cpu_percent FLOAT,
    memory_percent FLOAT,
    disk_percent FLOAT,
    gpu_percent FLOAT,
    gpu_memory_mb FLOAT,

    -- Temperature
    temperature_celsius FLOAT,

    -- Network
    network_latency_ms FLOAT,
    packet_loss_percent FLOAT
);

CREATE INDEX idx_health_timestamp ON system_health(timestamp DESC);
CREATE INDEX idx_health_robot ON system_health(robot_id);

-- ANOMALIES (ML-detected anomalies)
CREATE TABLE anomalies (
    anomaly_id SERIAL PRIMARY KEY,
    robot_id VARCHAR(50) REFERENCES robots(robot_id),
    timestamp TIMESTAMP NOT NULL DEFAULT NOW(),
    anomaly_type VARCHAR(50),  -- 'grasp_failure', 'planning_timeout', 'sensor_drift'
    severity VARCHAR(20),  -- 'low', 'medium', 'high', 'critical'
    description TEXT,
    features JSONB,  -- ML features that triggered detection
    acknowledged BOOLEAN DEFAULT FALSE,
    acknowledged_by VARCHAR(100),
    acknowledged_at TIMESTAMP
);

-- USERS (for authentication)
CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    username VARCHAR(100) UNIQUE NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    role VARCHAR(50) NOT NULL,  -- 'admin', 'engineer', 'operator', 'viewer'
    created_at TIMESTAMP DEFAULT NOW(),
    last_login TIMESTAMP
);

-- AUDIT_LOGS (immutable, for compliance)
CREATE TABLE audit_logs (
    log_id SERIAL PRIMARY KEY,
    timestamp TIMESTAMP NOT NULL DEFAULT NOW(),
    user_id INT REFERENCES users(user_id),
    action VARCHAR(100) NOT NULL,  -- 'START_SYSTEM', 'STOP_SYSTEM', 'E_STOP', 'CONFIG_CHANGE'
    entity_type VARCHAR(50),  -- 'robot', 'config', 'user'
    entity_id VARCHAR(100),
    details JSONB,
    ip_address INET,
    user_agent TEXT
);

CREATE INDEX idx_audit_timestamp ON audit_logs(timestamp DESC);
CREATE INDEX idx_audit_user ON audit_logs(user_id);
CREATE INDEX idx_audit_action ON audit_logs(action);
\`\`\`

#### 3.3.2 Time-Series Database (InfluxDB)

\`\`\`
// Measurement: cycle_time
// Tags: robot_id, object_class
// Fields: duration (float, seconds)
// Retention: 30 days, downsampled to hourly after 7 days

// Measurement: joint_states
// Tags: robot_id, joint_name (shoulder_pan, shoulder_lift, ...)
// Fields: position (float, rad), velocity (float, rad/s), effort (float, Nm)
// Retention: 7 days (raw), 30 days (1min aggregates)

// Measurement: vision_latency
// Tags: robot_id, stage (detect, pose_estimate)
// Fields: latency_ms (float)
// Retention: 30 days

// Measurement: force_torque
// Tags: robot_id
// Fields: fx, fy, fz (float, N), tx, ty, tz (float, Nm)
// Retention: 7 days (raw), 30 days (10s aggregates)

// Measurement: system_cpu
// Tags: robot_id, host (nuc, jetson)
// Fields: cpu_percent (float)
// Retention: 30 days (1min aggregates)
\`\`\`

### 3.4 Data Flow Architecture

\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATA FLOW MAP                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  OPERATIONAL DATA FLOW (Real-Time)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  Robot Sensors â”€â”€â–¶ ROS2 Topics â”€â”€â–¶ Metrics Collector â”€â”¬â”€â–¶ Prometheus
                                                        â”‚
                                                        â”œâ”€â–¶ InfluxDB
                                                        â”‚
                                                        â””â”€â–¶ Kafka â”€â”€â–¶ PostgreSQL
                                                                  â”‚
                                                                  â””â”€â–¶ MES (via REST API)


  ANALYTICAL DATA FLOW (Batch)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  PostgreSQL â”€â”€â–¶ ETL Pipeline (Airflow) â”€â”€â–¶ Data Warehouse â”€â”€â–¶ BI Dashboards
                                            (Snowflake/         (PowerBI/
                                             BigQuery)          Tableau)
                                                 â”‚
                                                 â””â”€â”€â–¶ ML Training (Vertex AI)


  ARCHIVAL DATA FLOW (Cold Storage)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  PostgreSQL â”€â”€â–¶ S3/MinIO (Parquet) â”€â”€â–¶ Glacier
  (7+ days old)    (Partitioned by date)   (1+ year old)
\`\`\`

### 3.5 Data Quality Framework

| **Dimension** | **Definition** | **Measurement** | **Target** | **Actions** |
|---------------|----------------|-----------------|------------|-------------|
| **Accuracy** | Correctness of data values | % of picks with pose error <1mm | >99% | Calibration checks, outlier detection |
| **Completeness** | All required fields populated | % of picks with non-null critical fields | 100% | Validation rules, default values |
| **Consistency** | Data agrees across systems | % match between robot logs and MES | >99.5% | Reconciliation jobs, checksums |
| **Timeliness** | Data available when needed | Latency: sensor â†’ dashboard | <5 sec | Stream processing, caching |
| **Uniqueness** | No duplicate records | Duplicate pick_ids | 0 | Primary key constraints, deduplication |
| **Validity** | Data conforms to rules | % of values within valid ranges | 100% | Check constraints, input validation |

### 3.6 Data Governance

#### 3.6.1 Data Ownership

| **Data Domain** | **Data Owner** | **Data Steward** | **Responsibilities** |
|-----------------|----------------|------------------|----------------------|
| **Robot Operational Data** | Engineering Manager | Senior Robot Engineer | Schema design, quality monitoring, access control |
| **Production Metrics** | Operations Manager | Production Supervisor | KPI definitions, reporting requirements |
| **Quality Data** | QA Manager | QA Lead | Defect tracking, root cause analysis |
| **Financial Data** | CFO | Finance Analyst | Cost tracking, ROI calculations |

#### 3.6.2 Data Lineage Example

\`\`\`
DATA LINEAGE: picks.cycle_time
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Source:
  Robot Controller (ros2_control) @ 1000 Hz
    â”‚
    â–¼
  ROS2 Topic: /task/status (10 Hz)
    â”‚ Published by: task_orchestrator_node
    â”‚ Message type: robot_msgs/TaskStatus
    â”‚ Field: cycle_time (float32)
    â”‚
    â–¼
  Metrics Collector (Python) @ 10 Hz
    â”‚ Subscribes to: /task/status
    â”‚ Aggregates: mean, p95, p99 per minute
    â”‚
    â”œâ”€â–¶ InfluxDB: cycle_time measurement
    â”‚   Retention: 30 days
    â”‚   Downsampling: 1min â†’ 1hour after 7 days
    â”‚
    â””â”€â–¶ PostgreSQL: picks.cycle_time column
        Persisted per pick
        Indexed for queries
        Partition by month

Consumers:
  â€¢ Grafana Dashboard (real-time chart)
  â€¢ PowerBI Report (daily aggregates)
  â€¢ ML Model (anomaly detection)
  â€¢ MES API (production tracking)
\`\`\`

### 3.7 Master Data Management (MDM)

#### 3.7.1 Master Data Entities

| **Entity** | **Source of Truth** | **Sync Frequency** | **Attributes** |
|------------|--------------------|--------------------|----------------|
| **Robot** | Robot Registry DB | Real-time | robot_id, model, serial, location, IP |
| **Object Classes** | Vision ML Registry | On model update | class_name, dimensions, weight, image |
| **Workspace Zones** | Configuration DB | On change | zone_id, type (pick/place), bounds |
| **Users** | Identity Provider (Keycloak) | Real-time (SSO) | user_id, email, role, permissions |

---

## 4. Integration Architecture

### 4.1 Integration Landscape

\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              INTEGRATION ARCHITECTURE                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

EXTERNAL SYSTEMS                 ROBOT SYSTEM
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MES    â”‚â—€â”€â”€â”€â”€REST APIâ”€â”€â”€â”€â”€â”€â–¶â”‚  Web Backend     â”‚
â”‚          â”‚    (JSON/HTTPS)    â”‚  (FastAPI)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚ ROS2 Bridge
â”‚   ERP    â”‚â—€â”€â”€â”€â”€REST APIâ”€â”€â”€â”€â”€â”€â–¶        â”‚
â”‚          â”‚    (JSON/HTTPS)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚  ROS2 Middleware â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚  (DDS)           â”‚
â”‚  SCADA   â”‚â—€â”€â”€â”€â”€OPC-UAâ”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
â”‚          â”‚    (real-time)     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
                                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BI/     â”‚â—€â”€â”€â”€â”€JDBCâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   PostgreSQL     â”‚
â”‚Analytics â”‚    (SQL queries)   â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

### 4.2 Integration Patterns

#### 4.2.1 Request-Reply (Synchronous)

**Use Case:** Configuration changes, manual commands

\`\`\`python
# Example: Start system via REST API

# Client (MES)
import requests

response = requests.post(
    'https://robot.factory.com/api/system/start',
    headers={'Authorization': 'Bearer <token>'},
    json={'robot_id': 'robot_01'}
)

if response.status_code == 200:
    print(f"System started: {response.json()}")
else:
    print(f"Error: {response.json()['error']}")

# Server (FastAPI)
from fastapi import FastAPI, HTTPException

@app.post("/api/system/start")
async def start_system(request: StartRequest):
    # Call ROS2 service
    ros_client = node.create_client(StartSystem, '/system/start')
    ros_response = await ros_client.call_async(StartSystem.Request())

    if ros_response.success:
        return {"success": True, "message": "System started"}
    else:
        raise HTTPException(status_code=500, detail=ros_response.message)
\`\`\`

#### 4.2.2 Publish-Subscribe (Asynchronous)

**Use Case:** Real-time telemetry, events

\`\`\`python
# Example: Publish pick events to Kafka

# Producer (Metrics Collector)
from kafka import KafkaProducer
import json

producer = KafkaProducer(
    bootstrap_servers=['kafka:9092'],
    value_serializer=lambda v: json.dumps(v).encode('utf-8')
)

def on_pick_complete(pick_data):
    producer.send('picks', value=pick_data)
    producer.flush()

# Consumer (MES Integration Service)
from kafka import KafkaConsumer

consumer = KafkaConsumer(
    'picks',
    bootstrap_servers=['kafka:9092'],
    value_deserializer=lambda m: json.loads(m.decode('utf-8'))
)

for message in consumer:
    pick = message.value
    update_mes_production_count(pick['robot_id'], pick['success'])
\`\`\`

#### 4.2.3 Event-Driven (Reactive)

**Use Case:** Error handling, alerts

\`\`\`yaml
# CloudEvents specification for robot error

{
  "specversion": "1.0",
  "type": "com.factory.robot.error",
  "source": "/robots/robot_01",
  "id": "e12345-abcdef",
  "time": "2025-10-18T10:23:45.123Z",
  "datacontenttype": "application/json",
  "data": {
    "error_code": "GRASP_FAILURE",
    "severity": "medium",
    "message": "Object slipped during grasp",
    "retry_count": 2
  }
}
\`\`\`

### 4.3 API Specifications

#### 4.3.1 REST API (External Integration)

**Base URL:** \`https://robot.factory.com/api/v1\`
**Authentication:** OAuth2 Bearer Token (JWT)
**Rate Limit:** 1000 requests/hour per API key

| **Endpoint** | **Method** | **Description** | **Auth** | **Rate Limit** |
|--------------|------------|-----------------|----------|----------------|
| \`/system/status\` | GET | Get system status | Required | 60/min |
| \`/system/start\` | POST | Start robot operation | Admin/Engineer | 10/min |
| \`/system/stop\` | POST | Stop robot operation | Admin/Engineer | 10/min |
| \`/picks\` | GET | Query pick history | Required | 60/min |
| \`/picks/{id}\` | GET | Get pick details | Required | 100/min |
| \`/metrics\` | GET | Get performance metrics | Required | 60/min |
| \`/config\` | GET | Get configuration | Engineer | 30/min |
| \`/config\` | PUT | Update configuration | Admin | 10/min |
| \`/calibration\` | POST | Start calibration | Engineer | 5/min |

**Example Response:**

\`\`\`json
GET /api/v1/system/status

{
  "robot_id": "robot_01",
  "status": "running",
  "uptime_seconds": 3456789,
  "picks_today": 28340,
  "success_rate": 0.984,
  "current_cycle_time": 1.82,
  "errors_today": 45,
  "last_error": {
    "timestamp": "2025-10-18T10:23:45Z",
    "code": "GRASP_RETRY",
    "resolved": true
  }
}
\`\`\`

#### 4.3.2 gRPC API (Internal High-Performance)

**Service Definition (Protocol Buffers):**

\`\`\`protobuf
syntax = "proto3";

package robot.control;

service RobotController {
  rpc GetJointStates(Empty) returns (JointStates);
  rpc MoveToJointPositions(JointPositions) returns (MoveResponse);
  rpc ExecutePickPlace(PickPlaceRequest) returns (PickPlaceResponse);
  rpc StreamMetrics(Empty) returns (stream Metrics);
}

message JointStates {
  repeated double positions = 1;  // radians
  repeated double velocities = 2;  // rad/s
  repeated double efforts = 3;  // Nm
  int64 timestamp = 4;  // Unix timestamp (ns)
}

message PickPlaceRequest {
  Pose pick_pose = 1;
  Pose place_pose = 2;
  float approach_distance = 3;  // meters
  float gripper_force = 4;  // Newtons
}

message PickPlaceResponse {
  bool success = 1;
  string message = 2;
  float execution_time = 3;  // seconds
}

message Pose {
  float x = 1;
  float y = 2;
  float z = 3;
  float qx = 4;  // quaternion
  float qy = 5;
  float qz = 6;
  float qw = 7;
}
\`\`\`

### 4.4 Message Formats

#### 4.4.1 Pick Event (Kafka/MQTT)

\`\`\`json
{
  "event_type": "pick_completed",
  "timestamp": "2025-10-18T10:23:45.123Z",
  "robot_id": "robot_01",
  "pick_id": 127,
  "object": {
    "class": "red_cube",
    "confidence": 0.982,
    "pose": {
      "position": {"x": 0.452, "y": 0.123, "z": 0.234},
      "orientation": {"qx": 0.01, "qy": -0.02, "qz": 0.03, "qw": 0.999}
    }
  },
  "grasp": {
    "quality": 0.87,
    "force": 25.3
  },
  "performance": {
    "cycle_time": 1.82,
    "vision_latency": 42,
    "planning_time": 187,
    "execution_time": 762
  },
  "success": true
}
\`\`\`

#### 4.4.2 System Alert (Email/Slack)

\`\`\`json
{
  "alert_type": "system_error",
  "severity": "high",
  "timestamp": "2025-10-18T10:23:45Z",
  "robot_id": "robot_01",
  "title": "Planning Timeout Threshold Exceeded",
  "description": "Motion planning took 512ms, exceeding 500ms threshold",
  "impact": "Potential cycle time increase",
  "recommended_action": "Check planner configuration, consider switching to RRTConnect",
  "affected_picks": [125, 126, 127],
  "dashboard_link": "https://robot.factory.com/dashboard?robot=robot_01&time=2025-10-18T10:23:45Z"
}
\`\`\`

### 4.5 Integration Governance

| **Aspect** | **Policy** | **Enforcement** |
|------------|------------|-----------------|
| **Versioning** | Semantic versioning (v1.2.3) for all APIs | API version in URL path |
| **Deprecation** | 6-month notice, maintain 2 versions concurrently | Deprecation warnings in responses |
| **Documentation** | OpenAPI 3.0 spec for all REST APIs | Auto-generated Swagger UI |
| **Testing** | Contract testing for all integrations | Pact.io, automated in CI/CD |
| **Monitoring** | Track latency, error rate, throughput | Prometheus + Grafana |
| **Security** | TLS 1.3, OAuth2, API keys | Kong API Gateway |

---

## 5. Business Architecture

### 5.1 Value Stream Map

\`\`\`
VALUE STREAM: Pick-and-Place Manufacturing Operation
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Receive    â”‚â”€â”€â”€â–¶â”‚   Identify   â”‚â”€â”€â”€â–¶â”‚   Pick &     â”‚â”€â”€â”€â–¶â”‚   Place &    â”‚
â”‚   Objects    â”‚    â”‚   Objects    â”‚    â”‚   Grasp      â”‚    â”‚   Release    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     Manual              AI Vision          Robotic           Robotic
   (Warehouse)         (30 FPS, <50ms)   (99%+ success)    (Â±0.1mm accuracy)
                                         (0.8s execution)   (0.3s execution)

  Lead Time            Cycle Time         Cycle Time        Cycle Time
   Variable            0.05s              0.8s              0.3s
                                                                â”‚
                                                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”
â”‚   Quality    â”‚â—€â”€â”€â”€â”‚   Verify     â”‚â—€â”€â”€â”€â”‚   Log Data          â”‚
â”‚   Inspection â”‚    â”‚   Placement  â”‚    â”‚   (Automated)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   (Optional)           Camera               Real-time to
   Manual/Auto         (real-time)          PostgreSQL/MES

METRICS:
â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Total Lead Time: 1.15s (vs 4.2s manual)
â€¢ Process Cycle Efficiency: 95% (value-add time / total time)
â€¢ First-Pass Yield: 98.4% (vs 95% manual)
â€¢ Cost per Pick: $0.003 (vs $0.012 manual)
\`\`\`

### 5.2 Business Capability Model

\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BUSINESS CAPABILITY MODEL                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

LEVEL 1: Strategic Capabilities
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Production Planning & Scheduling
â€¢ Quality Management
â€¢ Asset Performance Management
â€¢ Workforce Management

LEVEL 2: Core Capabilities (Robot-Enabled)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Object Detection â”‚  â”‚ Grasp Planning   â”‚  â”‚ Motion Execution â”‚
â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚
â”‚ â€¢ Vision AI      â”‚  â”‚ â€¢ Force closure  â”‚  â”‚ â€¢ Path planning  â”‚
â”‚ â€¢ Pose estimationâ”‚  â”‚ â€¢ Collision checkâ”‚  â”‚ â€¢ Trajectory ctrlâ”‚
â”‚ â€¢ Classification â”‚  â”‚ â€¢ Quality scoringâ”‚  â”‚ â€¢ Safety monitor â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

LEVEL 3: Supporting Capabilities
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ System Monitoring & Alerting
â€¢ Data Collection & Analytics
â€¢ Calibration & Maintenance
â€¢ Security & Access Control

CAPABILITY MATURITY:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Level 5: Optimizing    â€¢ Object Detection (AI-driven)
Level 4: Managed       â€¢ Grasp Planning, Motion Execution
Level 3: Defined       â€¢ Monitoring, Data Analytics
Level 2: Repeatable    â€¢ Calibration
Level 1: Initial       â€¢ Predictive Maintenance (roadmap)
\`\`\`

### 5.3 Operating Model

#### 5.3.1 Organization Structure

\`\`\`
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Plant Manager    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                â”‚                â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
       â”‚  Production â”‚  â”‚ Engineering â”‚  â”‚  Quality   â”‚
       â”‚   Manager   â”‚  â”‚   Manager   â”‚  â”‚   Manager  â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
              â”‚                â”‚                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚                â”‚
    â”‚                   â”‚      â”‚                â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
â”‚Operatorsâ”‚      â”‚Robot Engineers  â”‚    â”‚QA Inspectorsâ”‚
â”‚(3 shifts)â”‚     â”‚(Software/Mech)  â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                  â”‚             â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚Data Scientistâ”‚  â”‚Maintenance   â”‚
          â”‚(AI/ML)       â”‚  â”‚Technician    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

#### 5.3.2 RACI Matrix

| **Activity** | **Operator** | **Engineer** | **Manager** | **QA** | **Maintenance** |
|--------------|--------------|--------------|-------------|--------|-----------------|
| **Daily Operations** | R | C | I | I | I |
| **System Configuration** | I | R, A | C | I | I |
| **Troubleshooting** | I | R, A | C | I | C |
| **Calibration** | I | R | A | C | C |
| **Performance Analysis** | I | C | R, A | I | I |
| **AI Model Updates** | I | R | A | I | I |
| **Preventive Maintenance** | I | C | I | I | R, A |
| **Quality Audits** | I | I | C | R, A | I |

*R=Responsible, A=Accountable, C=Consulted, I=Informed*

### 5.4 Business Process Models (BPMN)

#### 5.4.1 Pick-and-Place Process

\`\`\`
BPMN: Pick-and-Place Workflow
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Start â”€â”€â–¶ [Wait for Trigger] â”€â”€â–¶ <Object Detected?> â”€â”€Noâ”€â”€â–¶ [Wait 1s] â”€â”€â”
                                         â”‚                                â”‚
                                        Yes                               â”‚
                                         â”‚                                â”‚
                                         â–¼                                â”‚
                              [Estimate Pose] â”€â”€â–¶ [Plan Grasp]           â”‚
                                         â”‚                                â”‚
                                         â–¼                                â”‚
                                 <Grasp Valid?> â”€â”€Noâ”€â”€â–¶ [Log Failure] â”€â”€â”€â”˜
                                         â”‚
                                        Yes
                                         â”‚
                                         â–¼
                              [Execute Pick] â”€â”€â–¶ <Success?> â”€â”€Noâ”€â”€â–¶ [Retry] â”€â”€â”
                                         â”‚                              (3Ã—)   â”‚
                                        Yes                                    â”‚
                                         â”‚                                     â”‚
                                         â–¼                                     â”‚
                              [Execute Place] â”€â”€â–¶ <Success?> â”€â”€Noâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                        Yes
                                         â”‚
                                         â–¼
                                   [Log Success] â”€â”€â–¶ End
\`\`\`

### 5.5 KPI Dashboard (Business Metrics)

| **KPI Category** | **Metric** | **Target** | **Current** | **Trend** |
|------------------|------------|------------|-------------|-----------|
| **Productivity** | Picks per Day | 28,000 | 28,340 | â–² +1.2% |
| **Quality** | Success Rate | >98% | 98.4% | â–² +0.6% |
| **Efficiency** | Cycle Time | <2.0s | 1.82s | â–² +9% |
| **Reliability** | Uptime | >99% | 99.7% | â–² +0.2% |
| **Financial** | Cost per Pick | <$0.005 | $0.003 | â–² +40% |
| **Safety** | Incidents | 0 | 0 | â”€ Stable |

---

## 6. Cross-Architecture Alignment

### 6.1 Architecture Alignment Matrix

| **Business Capability** | **Application** | **Data** | **Integration** | **Technology** |
|-------------------------|-----------------|----------|-----------------|----------------|
| **Object Detection** | Vision Pipeline (YOLOv8) | object_classes (MDM), detections (event) | ROS2 topic, Kafka event | Python, PyTorch, TensorRT, Jetson Xavier |
| **Grasp Planning** | Grasp Synthesizer | grasp candidates (transient) | ROS2 service | Python, NumPy, Open3D |
| **Motion Execution** | MoveIt2, ros2_control | joint trajectories (transient) | ROS2 action | C++, OMPL, RT-Linux |
| **Data Analytics** | Grafana, PowerBI | picks (PostgreSQL), metrics (InfluxDB) | REST API, JDBC | PostgreSQL, InfluxDB, Grafana |

### 6.2 Architecture Decision Alignment

Every architecture decision is validated against all four perspectives:

**Example: Choice of ROS2 Humble**

| **Perspective** | **Validation** | **Status** |
|-----------------|----------------|------------|
| **Enterprise** | Aligns with open-standards principle, large ecosystem | âœ… Approved |
| **Data** | Supports efficient message serialization (CDR), DDS discovery | âœ… Approved |
| **Integration** | Native pub/sub, service, action patterns for interoperability | âœ… Approved |
| **Business** | Enables rapid development (shorter time-to-market), cost-effective | âœ… Approved |

---

## 7. Governance & Standards

### 7.1 Architecture Review Board (ARB)

**Purpose:** Ensure architectural consistency, quality, and alignment with strategy.

**Members:**
- Enterprise Architect (Chair)
- Data Architect
- Integration Architect
- Business Architect
- CTO (Observer)

**Responsibilities:**
- Review architecture decision records (ADRs)
- Approve deviations from standards
- Maintain architecture roadmap
- Conduct quarterly architecture health checks

### 7.2 Architecture Health Metrics

| **Metric** | **Definition** | **Target** | **Current** |
|------------|----------------|------------|-------------|
| **Standard Compliance** | % of systems following EA standards | >95% | 98% |
| **Technical Debt** | Effort to remediate non-standard implementations | <5% of total dev effort | 3.2% |
| **Integration Complexity** | # of point-to-point integrations / total integrations | <20% | 12% |
| **Data Quality Score** | Composite score (accuracy, completeness, timeliness) | >95% | 97.3% |
| **API SLA Adherence** | % of API calls meeting latency SLA (<100ms) | >99% | 99.6% |

---

## Summary

### Multi-Architecture Coverage

âœ… **Enterprise Architecture:** Strategic alignment, standards, roadmap (3-year)
âœ… **Data Architecture:** Logical/physical models, governance, quality, lineage
âœ… **Integration Architecture:** Patterns, APIs (REST/gRPC), message formats
âœ… **Business Architecture:** Value streams, capabilities, operating model, KPIs

### Key Deliverables

| **Architecture** | **Artifacts** | **Governance** |
|------------------|---------------|----------------|
| **Enterprise** | EA principles, technology standards, application portfolio, roadmap | ARB review, quarterly health checks |
| **Data** | Conceptual/logical/physical models, data lineage, quality rules, MDM | Data governance council, monthly audits |
| **Integration** | API specs (OpenAPI), message schemas (Protobuf/JSON), integration patterns | API review process, contract testing |
| **Business** | Value stream maps, capability model, BPMN processes, KPI dashboard | Business review, monthly KPI tracking |

---

**Document Status:** âœ… v1.0 Complete
**Related Documents:** Technical Stack (05), HLD (08), LLD (14)
**Framework:** TOGAF 9.2, ArchiMate 3.1

---
`;

        document.addEventListener('DOMContentLoaded', function() {
            const contentDiv = document.getElementById('content');
            contentDiv.innerHTML = marked.parse(markdown);
        });

        function toggleOverlay() {
            const overlay = document.getElementById('overlay');
            overlay.style.display = overlay.style.display === 'none' ? 'block' : 'none';
        }

        function enterVR() {
            const scene = document.querySelector('a-scene');
            if (scene.is('vr-mode')) {
                scene.exitVR();
            } else {
                scene.enterVR();
            }
        }

        function resetView() {
            const cameraRig = document.getElementById('camera-rig');
            cameraRig.setAttribute('position', '0 0 0');
            const camera = document.getElementById('main-camera');
            camera.setAttribute('rotation', '0 0 0');
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'd' || e.key === 'D') {
                toggleOverlay();
            } else if (e.key === 'r' || e.key === 'R') {
                resetView();
            }
        });
    </script>
</body>
</html>